---
driver:
  name: docker
  require_chef_omnibus: false

provisioner:
  name: puppet_apply
  #puppet_apt_repo:
  manifests_path: examples
  manifest: examples.pp
  require_chef_for_busser: false
  modules_path: spec/fixtures/modules
  puppet_debug: true
  puppet_verbose: true
  install_custom_facts: true
  puppet_detailed_exitcodes: true
  puppet_whitelist_exit_code:
    - 2
  retry_on_exit_code:
    - 0
    - 4
    - 6
  max_retries: 2

verifier:
  name: inspec
  sudo: true

platforms:
  - name: ubuntu-18.04
    driver_config:
      image: ubuntu:18.04
      platform: ubuntu
  - name: centos-7
    driver_config:
      image: centos:latest
      platform: centos

suites:
  - name: default
    verifier:
      inspec_tests:
        - name: default
